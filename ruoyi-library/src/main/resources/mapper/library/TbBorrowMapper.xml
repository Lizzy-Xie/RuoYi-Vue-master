<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.library.mapper.TbBorrowMapper">
    
    <resultMap type="TbBorrow" id="TbBorrowResult">
        <result property="BorrowID"    column="BorrowID"    />
        <result property="rdID"    column="rdID"    />
        <result property="bkID"    column="bkID"    />
        <result property="ldContinueTimes"    column="ldContinueTimes"    />
        <result property="ldDateOut"    column="ldDateOut"    />
        <result property="ldDateRetPlan"    column="ldDateRetPlan"    />
        <result property="ldDateRetAct"    column="ldDateRetAct"    />
        <result property="ldOverDay"    column="ldOverDay"    />
        <result property="ldOverMoney"    column="ldOverMoney"    />
        <result property="ldPunishMoney"    column="ldPunishMoney"    />
        <result property="lsHasReturn"    column="lsHasReturn"    />
        <result property="OperatorBorrow"    column="OperatorBorrow"    />
        <result property="OperatorReturn"    column="OperatorReturn"    />
    </resultMap>

    <sql id="selectTbBorrowVo">
        select BorrowID, rdID, bkID, ldContinueTimes, ldDateOut, ldDateRetPlan, ldDateRetAct, ldOverDay, ldOverMoney, ldPunishMoney, lsHasReturn, OperatorBorrow, OperatorReturn from tb_borrow
    </sql>

    <select id="selectTbBorrowList" parameterType="TbBorrow" resultMap="TbBorrowResult">
        <include refid="selectTbBorrowVo"/>
        <where>  
            <if test="rdID != null "> and rdID = #{rdID}</if>
            <if test="bkID != null "> and bkID = #{bkID}</if>
            <if test="ldContinueTimes != null "> and ldContinueTimes = #{ldContinueTimes}</if>
            <if test="ldDateOut != null "> and ldDateOut = #{ldDateOut}</if>
            <if test="ldDateRetPlan != null "> and ldDateRetPlan = #{ldDateRetPlan}</if>
            <if test="ldDateRetAct != null "> and ldDateRetAct = #{ldDateRetAct}</if>
            <if test="ldOverDay != null "> and ldOverDay = #{ldOverDay}</if>
            <if test="ldOverMoney != null "> and ldOverMoney = #{ldOverMoney}</if>
            <if test="ldPunishMoney != null "> and ldPunishMoney = #{ldPunishMoney}</if>
            <if test="lsHasReturn != null "> and lsHasReturn = #{lsHasReturn}</if>
            <if test="OperatorBorrow != null  and OperatorBorrow != ''"> and OperatorBorrow = #{OperatorBorrow}</if>
            <if test="OperatorReturn != null  and OperatorReturn != ''"> and OperatorReturn = #{OperatorReturn}</if>
        </where>
    </select>
    
    <select id="selectTbBorrowByBorrowID" parameterType="Long" resultMap="TbBorrowResult">
        <include refid="selectTbBorrowVo"/>
        where BorrowID = #{BorrowID}
    </select>

    <insert id="insertTbBorrow" parameterType="TbBorrow" useGeneratedKeys="true" keyProperty="BorrowID">
        insert into tb_borrow
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="rdID != null">rdID,</if>
            <if test="bkID != null">bkID,</if>
            <if test="ldContinueTimes != null">ldContinueTimes,</if>
            <if test="ldDateOut != null">ldDateOut,</if>
            <if test="ldDateRetPlan != null">ldDateRetPlan,</if>
            <if test="ldDateRetAct != null">ldDateRetAct,</if>
            <if test="ldOverDay != null">ldOverDay,</if>
            <if test="ldOverMoney != null">ldOverMoney,</if>
            <if test="ldPunishMoney != null">ldPunishMoney,</if>
            <if test="lsHasReturn != null">lsHasReturn,</if>
            <if test="OperatorBorrow != null">OperatorBorrow,</if>
            <if test="OperatorReturn != null">OperatorReturn,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="rdID != null">#{rdID},</if>
            <if test="bkID != null">#{bkID},</if>
            <if test="ldContinueTimes != null">#{ldContinueTimes},</if>
            <if test="ldDateOut != null">#{ldDateOut},</if>
            <if test="ldDateRetPlan != null">#{ldDateRetPlan},</if>
            <if test="ldDateRetAct != null">#{ldDateRetAct},</if>
            <if test="ldOverDay != null">#{ldOverDay},</if>
            <if test="ldOverMoney != null">#{ldOverMoney},</if>
            <if test="ldPunishMoney != null">#{ldPunishMoney},</if>
            <if test="lsHasReturn != null">#{lsHasReturn},</if>
            <if test="OperatorBorrow != null">#{OperatorBorrow},</if>
            <if test="OperatorReturn != null">#{OperatorReturn},</if>
         </trim>
    </insert>

    <update id="updateTbBorrow" parameterType="TbBorrow">
        update tb_borrow
        <trim prefix="SET" suffixOverrides=",">
            <if test="rdID != null">rdID = #{rdID},</if>
            <if test="bkID != null">bkID = #{bkID},</if>
            <if test="ldContinueTimes != null">ldContinueTimes = #{ldContinueTimes},</if>
            <if test="ldDateOut != null">ldDateOut = #{ldDateOut},</if>
            <if test="ldDateRetPlan != null">ldDateRetPlan = #{ldDateRetPlan},</if>
            <if test="ldDateRetAct != null">ldDateRetAct = #{ldDateRetAct},</if>
            <if test="ldOverDay != null">ldOverDay = #{ldOverDay},</if>
            <if test="ldOverMoney != null">ldOverMoney = #{ldOverMoney},</if>
            <if test="ldPunishMoney != null">ldPunishMoney = #{ldPunishMoney},</if>
            <if test="lsHasReturn != null">lsHasReturn = #{lsHasReturn},</if>
            <if test="OperatorBorrow != null">OperatorBorrow = #{OperatorBorrow},</if>
            <if test="OperatorReturn != null">OperatorReturn = #{OperatorReturn},</if>
        </trim>
        where BorrowID = #{BorrowID}
    </update>

    <delete id="deleteTbBorrowByBorrowID" parameterType="Long">
        delete from tb_borrow where BorrowID = #{BorrowID}
    </delete>

    <delete id="deleteTbBorrowByBorrowIDs" parameterType="String">
        delete from tb_borrow where BorrowID in 
        <foreach item="BorrowID" collection="array" open="(" separator="," close=")">
            #{BorrowID}
        </foreach>
    </delete>
</mapper>